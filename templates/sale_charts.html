<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>销售信息图表</title>
    <script src="{{ url_for('static', filename='echarts.min.js') }}"></script>
    <script src="{{ url_for('static', filename='jquery-3.3.1.min.js') }}"></script>
</head>
<body>
<div class="text" style=" text-align:center;font-size:23px"><br>销售信息报表<br><br></div>
<table border='0' cellspacing='0'>
    <tr>
        <td>
        <div id="main" style="width:700px;height:450px;"></div>
        <script type="text/javascript">
            var dom = document.getElementById("main");
            var myChart = echarts.init(dom);
            var app = {};
            option = null;
            app.title = '资深用户排行榜';
            option = {
                title: {
                    text: '资深用户排行榜',
                    subtext: '根据用户积分排名',
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                type: 'shadow'
                }
            },
            legend: {
                data: ['用户积分']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
            type: 'value',
            boundaryGap: [0, 0.01]
            },
            yAxis: {
            type: 'category',
            data: [{{ customer_name|safe }}]
            },
            series: [
            {
            name: '用户积分',
            type: 'bar',
            data: [{{customer_point|safe}}]
            },
            ]
};
;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
        </td>
        <td>
        <div id="main2" style="width:700px;height:450px;"></div>
        <script type="text/javascript">
            var dom = document.getElementById("main2");
            var myChart = echarts.init(dom);
            var app = {};
            option = null;
            app.title = '近期活跃用户排行榜';
            option = {
                title: {
                    text: '近期活跃用户排行榜',
                    subtext: '根据最近用户订单数排名',
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                type: 'shadow'
                }
            },
            legend: {
                data: ['最近订单数']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
            type: 'value',
            boundaryGap: [0, 0.01]
            },
            yAxis: {
            type: 'category',
            data: [{{ active_name|safe }}]
            },
            series: [
            {
            name: '最近订单数',
            type: 'bar',
            data: [{{ active_point|safe }}]
            },
            ]
};
;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
        </td>
    </tr>
</table>
<table border='0' cellspacing='0'>
    <tr>
        <td>
        <div id="main3" style="width:1400px;height:500px;"></div>
            <script type="text/javascript">
var dom = document.getElementById("main3");
var myChart = echarts.init(dom);
var app = {};
option = null;
option = {
    title: {
        text: '各门店月销量折线图'
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        data:['北京','上海','深圳']
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    toolbox: {
        feature: {
            saveAsImage: {}
        }
    },
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: ['7月','8月','9月','10月','11月','12月']
    },
    yAxis: {
        type: 'value'
    },
    series: [
        {
            name:'北京',
            type:'line',
            stack: '订单数',
            data:[{{ bj_str }}]
        },
        {
            name:'上海',
            type:'line',
            stack: '订单数',
            data:[{{ sh_str }}]
        },
        {
            name:'深圳',
            type:'line',
            stack: '订单数',
            data:[{{ sz_str }}]
        }
    ]
};
;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
        </td>
    </tr>
</table>
<table border='0' cellspacing='0'>
    <tr>
        <td>
        <div id="main4" style="width:1400px;height:500px;"></div>
        <script type="text/javascript">
			var myChart = echarts.init($("#main4")[0]);
            var my_option = {
                title : {
                    text: '销售图书类型饼图',
                    x:'center'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    data: [{{ type_str|safe }}
                    ]
                },
                series : [
                    {
                    name: '类型',
                    type: 'pie',
                    radius : '55%',
                    center: ['50%', '60%'],
                    data:[
                        {{ type_count_str|safe }}
            ],
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
            };
			myChart.setOption(my_option);
        </script>
        </td>
    </tr>
</table>
</body>
</html>