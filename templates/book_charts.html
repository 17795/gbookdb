<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>图书信息报表</title>
    <script src="{{ url_for('static', filename='js/echarts.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery-3.3.1.min.js') }}"></script>
</head>
<body>
<div class="text" style=" text-align:center;font-size:23px"><br>图书信息报表<br><br></div>
<table border='0' cellspacing='0'>
    <tr>
        <td>
        <div id="main" style="width:1400px;height:700px;"></div>
        <script type="text/javascript">
            var dom = document.getElementById("main");
            var myChart = echarts.init(dom);
            var app = {};
            option = null;
            app.title = 'TOP20书籍';
            option = {
                title: {
                    text: 'TOP20书籍',
                    subtext: '数据来自用户评分',
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                type: 'shadow'
                }
            },
            legend: {
                data: ['图书得分']
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
            type: 'value',
            boundaryGap: [0, 0.01],
            min:9
            },
            yAxis: {
            type: 'category',
            data: [{{ book_name |safe}}]
            },
            series: [
            {
            name: '图书得分',
            type: 'bar',
            data: [{{ book_score |safe}}]
            },
            ]
};
;
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
        </td>
    </tr>
    <tr>
        <td>
        <div id="main2" style="width:1600px;height:700px;"></div>
        <script type="text/javascript">
            var myChart2 = echarts.init($("#main2")[0]);
			var my_option2 = {
                title : {
                    text: '书籍流派与平均得分',
                    x:'center'
                },
                xAxis: {
                    axisLabel:{
                        rotate:70
                    },
                type: 'category',
                data: [{{ gnere_str |safe}}]
                },
                yAxis: {
                    scale:true,
                    type: 'value'
                },
                series: [{
                data: [{{ gnere_score |safe}}],
                type: 'bar'
                }]
            };
			myChart2.setOption(my_option2);
        </script>
        </td>
    </tr>
</table>
</body>
</html>